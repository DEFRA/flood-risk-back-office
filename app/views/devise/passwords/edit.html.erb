<% @page_title = t("devise.change_password") %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <h1 class="govuk-heading-l">
      <%= @page_title %>
    </h1>

    <%= form_for resource,
        as: resource_name,
        url: password_path(resource_name),
        html: { method: :put, autocomplete: "off" },
        builder: GOVUKDesignSystemFormBuilder::FormBuilder do |f| %>

      <%= full_devise_error_messages! %>

      <%= f.hidden_field :reset_password_token %>

      <%= f.govuk_password_field :password,
          width: "one-half",
          autocomplete: "off",
          label: { text: t("devise.new_password") },
          hint: { text: t("devise.minimum_password_length", count: User.password_length.min) } %>

      <%= f.govuk_password_field :password_confirmation,
          width: "one-half",
          autocomplete: "off",
          label: { text: t("devise.confirm_new_password") } %>

      <%= f.govuk_submit t('devise.change_password'),
                        data: { disable_with: t('please_wait_html') } %>

    <% end %>

    <div class="govuk-body">
      <%= render "/shared/devise_links" %>
    </div>
  </div>
</div>
