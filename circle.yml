machine:
  node:
    version: 4.4.5
  ruby:
    version: 2.3.1

dependencies:
  post:
    - gem install brakeman --no-ri --no-rdoc
    - gem install i18n-tasks -v 0.9.6 --no-ri --no-rdoc
    - gem install overcommit -v 0.37.0 --no-ri --no-rdoc
    - overcommit --sign
    - npm install -g htmlhint

test:
  pre:
    - brakeman
    # Currently we have 38 keys being reported as unused. That's a high number
    # that needs investigating to understand is this correct, or are we just
    # using them in a way i18n-tasks matcher doesn't understand
    #- i18n-tasks unused
    - overcommit --run
    - htmlhint ./app/**/*.html.erb
    - bundle exec rubocop
